<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> 
    <title data-i18n="titulo_principal">🔔 Control del Campanar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="campanas.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 data-i18n="titulo_principal">🔔 Control del Campanar</h1>
            <div class="estado-conexion" id="estadoConexion" data-i18n="conectando">Connectant...</div>
        </header>

        <!-- CUADRO 1: TOQUES Y CAMPANADAS -->
        <section class="seccion-toques">
            <h3>
                <span class="icono">🔔</span>
                <span data-i18n="seccion_toques">Tocs i Campanades</span>
            </h3>
            
            <div class="botones-toques">
                <button class="button Misa" onclick="SelMisa()">
                    <span class="button-icon">⛪</span>
                    <span data-i18n="boton_misa">Missa</span>
                </button>
                
                <button class="button Difuntos" onclick="SelDifuntos()">
                    <span class="button-icon">🕊️</span>
                    <span data-i18n="boton_difuntos">Difunts</span>
                </button>
                
                <button class="button Fiesta" onclick="SelFiesta()">
                    <span class="button-icon">🎉</span>
                    <span data-i18n="boton_fiesta">Festa</span>
                </button>
            </div>
            
            <div class="estado-toques">
                <div class="campanitas">
                    <div class="campana" id="campana0">🔔</div>
                    <div class="campana" id="campana1">🔔</div>
                </div>
                <button class="button-secondary" onclick="pararSecuencia()" id="btnParar" data-i18n="parar_secuencia">
                    ⏹️ Aturar Seqüència
                </button>
            </div>
        </section>

        <!-- CUADRO 2: CALEFACCIÓN -->
        <section class="seccion-calefaccion">
            <h3>
                <span class="icono">🔥</span>
                <span data-i18n="seccion_calefaccion">Sistema de Calefacció</span>
            </h3>
            
            <div class="calefaccion-controles">
                <div class="estado-calefaccion">
                    <svg class="icono-calefaccion" viewBox="0 0 24 24" fill="none">
                        <path id="iconoCalefaccion" stroke="orange" stroke-width="2" 
                              d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L13.5 2.5L16.17 5.17C15.24 5.06 14.32 5 13.38 5H10.63C9.68 5 8.76 5.06 7.84 5.17L10.5 2.5L9 1L3 7V9H4.5C5.1 9 5.63 9.26 6 9.67V14.37C6 15.32 6.06 16.24 6.17 17.16L3.5 14.5L2 16L8 22H10V20.5C10 19.9 10.26 19.37 10.67 19H14.37C15.32 19 16.24 18.94 17.16 18.83L14.5 21.5L16 23L22 17V15H20.5C19.9 15 19.37 14.74 19 14.33V9.63C19 9.1 19.26 8.63 19.67 8H21Z"/>
                    </svg>
                    <span class="texto-estado" id="textoCalefaccion" data-i18n="calefaccion_apagada">Apagada</span>
                </div>
                
                <div class="cuenta-regresiva" id="cuentaRegresiva" style="display: none;">
                    <span data-i18n="tiempo_restante">⏱️ Temps restant: </span>
                    <span id="tiempoRestante">--:--</span>
                </div>
                
                <div class="botones-calefaccion">
                    <button class="button-calefaccion" onclick="encenderCalefaccion()" data-i18n="calefaccion_encender">
                        🔥 Encendre
                    </button>
                    <button class="button-reloj" id="btnReloj" onclick="mostrarConfiguracionTiempo()" data-i18n="calefaccion_configurar">
                        ⏰ Configurar
                    </button>
                </div>
            </div>
        </section>

        <!-- CUADRO 3: CONFIGURACIÓN Y GESTIÓN -->
        <section class="seccion-configuracion">
            <h3>
                <span class="icono">⚙️</span>
                <span data-i18n="seccion_configuracion">Configuració i Gestió</span>
            </h3>
            
            <div class="botones-configuracion">
                <a href="/Alarmas.html" class="boton-config">
                    <div class="icono-config">📅</div>
                    <div class="texto-config">
                        <strong data-i18n="gestion_alarmas">Gestió d'Alarmes</strong>
                        <small data-i18n="gestion_alarmas_desc">Programar tocs automàtics</small>
                    </div>
                </a>
                
                <a href="/Estadisticas.html" class="boton-config">
                    <div class="icono-config">📊</div>
                    <div class="texto-config">
                        <strong data-i18n="estadisticas">Estadístiques</strong>
                        <small data-i18n="estadisticas_desc">Historial i informes</small>
                    </div>
                </a>
                
                <div class="boton-config selector-idioma-config">
                    <div class="icono-config">🌍</div>
                    <div class="texto-config">
                        <strong data-i18n="idioma">Idioma</strong>
                        <select id="selectorIdioma" onchange="cambiarIdioma(this.value)">
                            <option value="ca">Català</option>
                            <option value="es">Español</option>
                        </select>
                    </div>
                </div>
                
                <a href="/Configuracion.html" class="boton-config">
                    <div class="icono-config">🔧</div>
                    <div class="texto-config">
                        <strong data-i18n="configuracion">Configuració</strong>
                        <small data-i18n="configuracion_desc">Ajustos del sistema</small>
                    </div>
                </a>
            </div>
        </section>
    </div>

    <script src="idiomas.js"></script>
    <script src="Campanas.js"></script>
</body>
</html>